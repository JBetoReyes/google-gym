# Copy to .env and fill in values.
# In production (Fly.io / Railway) these are set as secrets, not a file.

# ── Database ───────────────────────────────────────────────────────────────────
# Local dev (Docker Compose):
DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/gymtracker

# Production (Supabase direct connection — connects as postgres, bypasses RLS):
# DATABASE_URL=postgresql+asyncpg://postgres:[DB-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
#
# Find your password + project ref in:
#   Supabase Dashboard → Project Settings → Database → Connection string → URI
#   Switch the URI scheme from "postgresql://" to "postgresql+asyncpg://"

# ── Supabase ───────────────────────────────────────────────────────────────────
# All values from: Supabase Dashboard → Project Settings → API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# JWT secret from: Supabase Dashboard → Project Settings → API → JWT Settings
SUPABASE_JWT_SECRET=your-jwt-secret

# ── Stripe ─────────────────────────────────────────────────────────────────────
# Use sk_test_... for test mode, sk_live_... for production
STRIPE_SECRET_KEY=sk_test_...

# From: Stripe Dashboard → Developers → Webhooks → your endpoint → Signing secret
# Webhook must be registered for event: checkout.session.completed
STRIPE_WEBHOOK_SECRET=whsec_...

# From: Stripe Dashboard → Products → your premium product → Price ID
STRIPE_PREMIUM_PRICE_ID=price_...

# ── App ────────────────────────────────────────────────────────────────────────
ENVIRONMENT=development   # set to "production" in prod

# JSON array of allowed CORS origins (no trailing slash)
# Dev:
ALLOWED_ORIGINS=["http://localhost:5173","http://localhost:8081"]
# Production example:
# ALLOWED_ORIGINS=["https://gymtracker.netlify.app","https://www.gymtracker.app"]
